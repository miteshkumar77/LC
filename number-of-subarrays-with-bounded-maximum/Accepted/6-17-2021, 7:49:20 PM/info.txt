{"id":509463272,"lang":"cpp","time":"10Â months","timestamp":1623973760,"status_display":"Accepted","runtime":"24 ms","url":"/submissions/detail/509463272/","is_pending":"Not Pending","title":"Number of Subarrays with Bounded Maximum","memory":"32.3 MB","code":"#define PR(var) cout << \" \" << #var << \"(\"<< (var) << \")\"\n\nclass Solution {\npublic:\n    void push(int num, deque<array<int,2>>& dq) {\n        array<int,2> a{num, 1};\n        while(!dq.empty() && a[0] >= dq.front()[0]) {\n            a[1] += dq.front()[1];\n            dq.pop_front();\n        }\n        dq.push_front(a);\n    }\n    \n    void pop(deque<array<int,2>>& dq) {\n        if (--dq.back()[1] == 0) dq.pop_back();\n    }\n    \n    int getExt(deque<array<int,2>>& dq) {\n        return dq.empty() ? INT_MIN : dq.back()[0];\n    }\n    \n    int numSubarrayBoundedMax(vector<int>& nums, int left, int right) {\n        int dp = 0;\n        int n = nums.size();\n        int ans = 0;\n        int len = 0;\n        for (int i = 0; i < n; ++i) {\n            if (nums[i] >= left && nums[i] <= right) {\n                dp = ++len; \n            } else if (nums[i] > right) {\n                len = 0;\n                dp = 0;\n            } else {\n                ++len;\n            }\n            ans += dp;\n        }\n        return ans;\n    }\n};\n\n\n\n\n\n\n\n\n\n\n","compare_result":"1111111111111111111111111111111111111111111","title_slug":"number-of-subarrays-with-bounded-maximum"}