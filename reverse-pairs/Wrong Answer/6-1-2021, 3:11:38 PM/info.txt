{"id":501510929,"lang":"cpp","time":"10 months, 3 weeks","timestamp":1622574698,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/501510929/","is_pending":"Not Pending","title":"Reverse Pairs","memory":"N/A","code":"class Solution {\npublic:\n    vector<array<int, 2>> swp;\n    vector<array<int, 2>> ans;\n    int n;\n    int mid;\n    int i, j, k;\n    void get(int l, int r) {\n        if (l >= r) return;\n        mid = l + (r - l)/2;\n        get(l, mid); get(mid+1, r);\n        i = l;\n        for (j = mid + 1; j <= r; ++j) {\n            while(i <= mid && 2 * ans[i][0] < ans[j][0]) ++i;\n            ans[j][1] += i-l;\n        }\n        k = 0;\n        i = l; j = mid + 1;\n        while(i <= mid || j <= r) {\n            if (i > mid || (j <= r && ans[i][0] >= ans[j][0])) {\n                swp[k++] = ans[j++];\n            } else {\n                swp[k++] = ans[i++];\n            }\n        }\n        for (int i = l; i <= r; ++i) {\n            ans[i] = swp[i-l];\n        }\n    }\n    \n    int reversePairs(vector<int>& nums) {\n        n = nums.size();\n        reverse(nums.begin(), nums.end());\n        swp = vector<array<int, 2>>(n, {0, 0});\n        ans = vector<array<int, 2>>(n, {0, 0});\n        for (int i = 0; i < n; ++i) {\n            ans[i][0] = nums[i];\n        }\n        int a = 0;\n        get(0, n-1);\n        for (int i = 0; i < n; ++i) {\n            a += ans[i][1];\n        }\n        return a;\n    }\n};","compare_result":"1110011010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"reverse-pairs"}