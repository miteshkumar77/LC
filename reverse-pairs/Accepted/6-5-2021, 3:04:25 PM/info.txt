{"id":503497894,"lang":"cpp","time":"10 months, 2 weeks","timestamp":1622919865,"status_display":"Accepted","runtime":"200 ms","url":"/submissions/detail/503497894/","is_pending":"Not Pending","title":"Reverse Pairs","memory":"46.9 MB","code":"class Solution {\npublic:\n    void get(int l, int r, vector<int>& nums, vector<int>& swp, int n, int& ans) {\n        if (l >= r) return;\n        int mid = l + (r - l)/2;\n        get(l, mid, nums, swp, n, ans); get(mid+1, r, nums, swp, n, ans);\n        int j = r;\n        int i;\n        for (i = mid; i >= l; --i) {\n            while(j > mid && (double)nums[i] <= 2.0 * (double)nums[j]) --j;\n            ans += (j - mid);\n        }\n        i = l;\n        j = mid+1;\n        for (int x = l; x <= r; ++x) {\n            if (i > mid || (j <= r && nums[j] <= nums[i])) {\n                swp[x] = nums[j++];\n            } else {\n                swp[x] = nums[i++];\n            }\n        }\n        for (int x = l; x <= r; ++x) {\n            nums[x] = swp[x];\n        }\n    }\n    \n    int reversePairs(vector<int>& nums) {\n        int n = nums.size();\n        int ans = 0;\n        vector<int> swp(n);\n        get(0, n-1, nums, swp, n, ans);\n        return ans;\n    }\n};","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"reverse-pairs"}