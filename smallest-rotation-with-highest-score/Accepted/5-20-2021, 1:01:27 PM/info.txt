{"id":495868127,"lang":"cpp","time":"11Â months","timestamp":1621530087,"status_display":"Accepted","runtime":"220 ms","url":"/submissions/detail/495868127/","is_pending":"Not Pending","title":"Smallest Rotation with Highest Score","memory":"54.9 MB","code":"class Solution {\npublic:\n    int score(const vector<int>& A, int k) {\n        int n = A.size();\n        int ans = 0;\n        for (int i = 0; i < n; ++i) {\n            ans += (A[(i+k)%n] <= i);\n        }\n        return ans;\n    }\n    int bestRotation(vector<int>& A) {\n        /*\n            A[i], k, n score = 1 : A[i] <= (i - k + n) % n\n            \n        */\n        int n = A.size();\n        vector<vector<int>> intervals;\n        int minidx;\n        int maxidx;\n        for (int i = 0; i < n; ++i) {\n            if (A[i] == n) continue;\n            minidx = A[i];\n            maxidx = n - 1;\n            if (i < minidx) {\n                intervals.push_back({i + 1, 1});\n                intervals.push_back({i + 1 + maxidx - minidx, -1});\n            } else {\n                intervals.push_back({0, 1});\n                intervals.push_back({i - minidx, -1});\n                if (i != n - 1) { \n                    intervals.push_back({i + 1, 1});\n                    intervals.push_back({n - 1, -1});\n                }\n            }\n        }\n        sort(intervals.begin(), intervals.end(), [](const vector<int>& a, const vector<int>& b) -> bool {\n            return a[0] < b[0] || (a[0] == b[0] && a[1] > b[1]);\n        });\n        int ans = 0;\n        int laps = 0;\n        int mlaps = INT_MIN;\n        for (const auto& p : intervals) {\n            if (p[1] == 1) {\n                ++laps;\n                if (laps > mlaps) {\n                    mlaps = laps;\n                    ans = p[0];\n                }\n            } else {\n                --laps;\n            }\n        }\n        return ans;\n    }\n};\n\n// [0,0,0,5,5,5]","compare_result":"111111111111111111111111111111111111","title_slug":"smallest-rotation-with-highest-score"}