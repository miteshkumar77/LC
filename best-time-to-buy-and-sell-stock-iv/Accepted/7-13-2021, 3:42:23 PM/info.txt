{"id":522069639,"lang":"cpp","time":"9 months, 1 week","timestamp":1626205343,"status_display":"Accepted","runtime":"8 ms","url":"/submissions/detail/522069639/","is_pending":"Not Pending","title":"Best Time to Buy and Sell Stock IV","memory":"10.7 MB","code":"class Solution {\npublic:\n    int maxProfit(int k, vector<int>& prices) {\n        /*\n            dp[i][j] = highest profit we can make \n        */\n        \n        if (k > prices.size()/2) {\n            int t = 0;\n            for (int i = 1; i < prices.size(); ++i) {\n                t += max(prices[i] - prices[i-1], 0);\n            }\n            return t;\n        }\n        int n = prices.size();\n        vector<int> dp(n, 0);\n        int maxtr, tmp;\n        int ans = 0;\n        for (int trade = 1; trade <= k; ++trade) {\n            maxtr = INT_MIN;\n            for (int price = 0; price < n; ++price) {\n                tmp = dp[price] - prices[price];\n                if ((price+1) < trade*2) {\n                    dp[price] = (int)-1e9;\n                } else {\n                    dp[price] = max(prices[price] + maxtr, dp[price-1]);\n                }\n                ans = max(ans, dp[price]);\n                maxtr = max(maxtr, tmp);\n            }\n        }\n        return ans;\n    }\n};","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"best-time-to-buy-and-sell-stock-iv"}