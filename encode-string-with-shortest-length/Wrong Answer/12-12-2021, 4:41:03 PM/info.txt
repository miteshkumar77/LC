{"id":600904012,"lang":"cpp","time":"4 months, 1 week","timestamp":1639345263,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/600904012/","is_pending":"Not Pending","title":"Encode String with Shortest Length","memory":"N/A","code":"class Solution {\npublic:\n    \n    bool can_compress(int l, int r, int k, string const& s) {\n        if ((r - l + 1) % k != 0) {\n            return false; \n        }\n        for (int x = 1; x < (r - l + 1)/k; ++x) {\n            if (s.substr(l, k) != s.substr(l + k * x, k)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    string const& solve(int l, int r, string const& s, vector<vector<string>>& dp) {\n        if (dp[l][r].length() == 0) {\n            dp[l][r] = s.substr(l, r - l + 1);\n            for (int x = 1; x < (r - l + 1); ++x) {\n                if (can_compress(l, r, x, s)) {\n                    string tmp = to_string((r - l + 1)/x) + \"[\" + \n                        s.substr(l, x) + \"]\";\n                    if (tmp.length() < dp[l][r].length()) {\n                        dp[l][r].swap(tmp);\n                    }\n                }\n            }\n            for (int x = l+1; x < r; ++x) {\n                auto sl = solve(l, x, s, dp);\n                auto sr = solve(x+1, r, s, dp);\n                if (sl.length() + sr.length() <= dp[l][r].length()) {\n                    dp[l][r] = sl + sr;\n                }\n            }\n        }\n        return dp[l][r];\n    }\n    string encode(string s) {\n        int n = s.length();\n        vector<vector<string>> dp(n, vector<string>(n, \"\"));\n        for (int l = 0; l < n; ++l) {\n            dp[l][l] = s.substr(l, 1);\n        }\n        return solve(0, s.length()-1, s, dp);\n        \n    }\n};","compare_result":"1111011111111111111111101111100110111101","title_slug":"encode-string-with-shortest-length"}