{"id":395236718,"lang":"cpp","time":"1 year, 7 months","timestamp":1600028235,"status_display":"Accepted","runtime":"68 ms","url":"/submissions/detail/395236718/","is_pending":"Not Pending","title":"Print in Order","memory":"7.2 MB","code":"class Foo {\npublic:\n    Foo() {\n\n    }\n    \n    \n    \n    \n    void valve(int i, function<void()> action) {\n        unique_lock<mutex> ul(m); \n        cv.wait(ul, [&] { return step == i; }); \n        ++step; \n        action(); \n        cv.notify_all(); \n    }\n\n    void first(function<void()> printFirst) {\n        valve(1, printFirst); \n        // printFirst() outputs \"first\". Do not change or remove this line.\n    }\n\n    void second(function<void()> printSecond) {\n        valve(2, printSecond); \n        // printSecond() outputs \"second\". Do not change or remove this line.\n    }\n\n    void third(function<void()> printThird) {\n        valve(3, printThird); \n        // printThird() outputs \"third\". Do not change or remove this line.\n    }\nprivate:\n        condition_variable cv; \n        mutex m; \n        int step = 1; \n};","compare_result":"111111111111111111111111111111111111","title_slug":"print-in-order"}