{"id":434553781,"lang":"cpp","time":"1 year, 3 months","timestamp":1608942488,"status_display":"Accepted","runtime":"76 ms","url":"/submissions/detail/434553781/","is_pending":"Not Pending","title":"Pacific Atlantic Water Flow","memory":"18.5 MB","code":"class Solution {\npublic:\n    vector<vector<int>> pacificAtlantic(vector<vector<int>>& matrix) {\n        \n        if (matrix.size() == 0 || matrix[0].size() == 0) {\n            return vector<vector<int>>();\n        }\n        int m = matrix.size();\n        int n = matrix[0].size();\n        \n        vector<vector<int>> visited(m, vector<int>(n, 0));\n        /*\n         0 -> not yet calculated\n         1 -> atlantic only\n         2 -> pacific only\n         3 -> both atlantic and pacific\n        */\n        array<int, 5> dirs{0, 1, 0, -1, 0}; \n        \n        function<void(int,int,int,int)> dfs = [&](int i, int j, int flag, int parentHeight) -> void {\n            if (i >= m || j >= n || i < 0 || j < 0 || parentHeight > matrix[i][j]) {\n                return;\n            }\n            \n            if (visited[i][j] == flag || visited[i][j] == 3) return;\n            \n            if (visited[i][j] != 0) {\n                visited[i][j] = 3;\n            } else {\n                visited[i][j] = flag;\n            }\n            \n            for (int x = 0; x < 4; ++x) {\n                dfs(i + dirs[x], j + dirs[x + 1], flag, matrix[i][j]);\n            }\n        };\n        \n        \n        for (int r = 0; r < m; ++r) {\n            for (int c = 0; c < n; ++c) {\n                if (r == 0 || c == 0) {\n                    dfs(r, c, 1, INT_MIN);\n                }\n                if (r == m - 1 || c == n - 1) {\n                    dfs(r, c, 2, INT_MIN);\n                }\n            }\n        }\n        \n        vector<vector<int>> ans;\n        for (int r = 0; r < m; ++r) {\n            for (int c = 0; c < n; ++c) {\n                if (visited[r][c] == 3) {\n                    ans.push_back({r, c});\n                }\n            }\n        }\n        \n        return ans;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"pacific-atlantic-water-flow"}