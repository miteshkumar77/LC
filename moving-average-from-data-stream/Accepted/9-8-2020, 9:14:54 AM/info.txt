{"id":392806508,"lang":"cpp","time":"1 year, 7 months","timestamp":1599570894,"status_display":"Accepted","runtime":"96 ms","url":"/submissions/detail/392806508/","is_pending":"Not Pending","title":"Moving Average from Data Stream","memory":"14 MB","code":"class MovingAverage {\npublic:\n    /** Initialize your data structure here. */\n    MovingAverage(int size) {\n        sz = 0; \n        data = vector<int>(size); \n        head = 0; \n        tail = 0; \n    }\n    \n    double next(int val) {\n        if (sz == data.size()) {\n            head = (1 + head) % data.size(); \n            --sz;\n        }\n        ++sz; \n        data[tail] = val;\n        tail = (1 + tail) % data.size(); \n        \n        double ret = 0.0; \n        bool left = true; \n        for (int i = head; left || i != tail; i = (i + 1) % data.size()) {\n            left = false; \n            ret += data[i]; \n        }\n        ret /= sz; \n        return ret; \n    }\nprivate:\n    int sz; \n    vector<int> data;\n    int head;\n    int tail;\n};\n\n/**\n * Your MovingAverage object will be instantiated and called as such:\n * MovingAverage* obj = new MovingAverage(size);\n * double param_1 = obj->next(val);\n */","compare_result":"111111111111","title_slug":"moving-average-from-data-stream"}