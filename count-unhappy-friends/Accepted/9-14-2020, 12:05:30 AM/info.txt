{"id":395409983,"lang":"cpp","time":"1 year, 7 months","timestamp":1600056330,"status_display":"Accepted","runtime":"296 ms","url":"/submissions/detail/395409983/","is_pending":"Not Pending","title":"Count Unhappy Friends","memory":"48.1 MB","code":"class Solution {\npublic:\n    int unhappyFriends(int n, vector<vector<int>>& preferences, vector<vector<int>>& pairs) {\n        vector<unordered_map<int,int>> prio(n); \n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < n - 1; ++j) {\n                prio[i][preferences[i][j]] = j; \n            }\n        }\n        \n        vector<int> pairmap(n, -1); \n        for (auto p : pairs) {\n            pairmap[p[0]] = p[1]; \n            pairmap[p[1]] = p[0]; \n        }\n        int ans = 0; \n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < prio[i][pairmap[i]]; ++j) {\n                int player = preferences[i][j]; \n                if (prio[player][i] < prio[player][pairmap[player]]) {\n                    ++ans; \n                    break; \n                }\n            }\n        }\n        return ans; \n    }\n\n};\n\n\n//         vector<unordered_map<int,int>> prefidxs(preferences.size()); \n//         for (int i = 0; i < preferences.size(); ++i) {\n//             for (int j = 0; j < preferences[i].size(); ++j) {\n//                 prefidxs[i][preferences[i][j]] = j; \n//             }\n//         }\n        \n        \n//         vector<int> pairmap(preferences.size()); \n//         for (int i = 0; i < pairs.size(); ++i) {\n//             pairmap[pairs[i][0]] = pairmap[pairs[i][1]]; \n//             pairmap[pairs[i][1]] = pairmap[pairs[i][0]]; \n//         }\n        \n//         int ans = 0;\n\n        \n//         for (int i = 0; i < pairmap.size(); ++i) {\n//             for (int j = 0; j < prefidxs[i][pairmap[i]]; ++j) {\n//                 int player = preferences[i][j]; \n                \n//                 if (prefidxs[player][i] < prefidxs[player][pairmap[player]]) {\n//                     ++ans; \n//                     cout << i << ' ' << player << endl; \n//                     break;\n//                 }\n//             }\n//         }\n//         return ans; ","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"count-unhappy-friends"}