{"id":490550029,"lang":"cpp","time":"11 months, 2 weeks","timestamp":1620505613,"status_display":"Accepted","runtime":"1224 ms","url":"/submissions/detail/490550029/","is_pending":"Not Pending","title":"Super Palindromes","memory":"35.6 MB","code":"class Solution {\npublic:\n    typedef double bi;\n    typedef unsigned long long int ulli;\n    int ans;\n    bool isPal(const string& s) {\n        int l = 0;\n        int r = s.length() - 1;\n        while(l < r) {\n            if (s[l++] != s[r--]) return false;\n        }\n        return true;\n    }\n    \n    bool isOverflow(string& s, ulli mx) {\n        std::string m = to_string(mx);\n        return (m.length() < s.length() || (m.length() == s.length() && m < s));\n    }\n    \n    void pals(string& box, ulli sql, ulli sqr) {\n        if (box.length() > 5) return;\n        string m1 = box;\n        string m2 = box;\n        reverse(box.begin(), box.end());\n        m1 += box;\n        m2 += (box.length() < 2) ? \"\" : box.substr(1, box.length() - 1);\n        reverse(box.begin(), box.end()); \n        \n        if (m1.length() != 0 && !isOverflow(m1, sqr)) {\n            //cout << m1 << endl;\n            ulli n1 = stoll(m1);\n            if (n1 >= sql && isPal(to_string(n1 * n1))) {\n                ++ans;\n            }\n        }\n        if (m2.length() != 0 && !isOverflow(m2, sqr)) {\n            //cout << m2 << endl;\n            ulli n2 = stoll(m2);\n            if (n2 >= sql && isPal(to_string(n2 * n2))) {\n                ++ans;\n            }\n        }\n        if (isOverflow(m1, sqr) && isOverflow(m2, sqr)) return;\n        \n        \n        \n        char start = box.length() == 0 ? '1' : '0';\n        for (char c = (box.length() == 0) + '0'; c <= '9'; ++c) {\n            box.push_back(c);\n            pals(box, sql, sqr);\n            box.pop_back();\n        }\n    }\n\n    int superpalindromesInRange(string left, string right) {\n        \n        long long l = sqrt(stoll(left));\n        long long r = sqrt(stoll(right));\n        ans = 0;\n        string bx;\n        pals(bx, l, r);\n        return ans;\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","compare_result":"1111111111111111111111111111111111111111111111111","title_slug":"super-palindromes"}