{"id":507042870,"lang":"cpp","time":"10 months, 1 week","timestamp":1623542244,"status_display":"Runtime Error","runtime":"N/A","url":"/submissions/detail/507042870/","is_pending":"Not Pending","title":"Fancy Sequence","memory":"N/A","code":"class Fancy {\npublic:\n    vector<int> nums;\n    int mult = 1;\n    int add = 0;\n    int M = 1e9 + 7;\n    Fancy() {\n        \n    }\n    \n    void append(int val) {\n        for (int i = 0; i < nums.size(); ++i) nums[i] = getIndex(i);\n        mult = 1;\n        add = 0;\n        nums.push_back(val);\n    }\n    \n    void addAll(int inc) {\n        add = (add + inc) % M;\n    }\n    \n    void multAll(int m) {\n        mult = (mult * m) % M;\n        add = (add * m) % M;\n    }\n    \n    int getIndex(int idx) {\n        if (idx >= nums.size() || idx < 0) return -1;\n        return (nums[idx] * mult % M + add) % M;\n    }\n};\n\n/**\n * Your Fancy object will be instantiated and called as such:\n * Fancy* obj = new Fancy();\n * obj->append(val);\n * obj->addAll(inc);\n * obj->multAll(m);\n * int param_4 = obj->getIndex(idx);\n */","compare_result":"11111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000000000000000000","title_slug":"fancy-sequence"}