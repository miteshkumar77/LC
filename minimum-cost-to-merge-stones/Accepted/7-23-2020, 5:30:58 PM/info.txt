{"id":370726241,"lang":"cpp","time":"1 year, 8 months","timestamp":1595539858,"status_display":"Accepted","runtime":"20 ms","url":"/submissions/detail/370726241/","is_pending":"Not Pending","title":"Minimum Cost to Merge Stones","memory":"12.8 MB","code":"class Solution {\npublic:\n    int mergeStones(vector<int>& stones, int K) {\n        vector<vector<vector<int>> > dp(stones.size(), vector<vector<int>>(stones.size(), vector<int>(K + 1, -2)));\n        vector<int> prefsum(stones.size() + 1, 0); \n        for (int i = 1; i <= stones.size(); ++i) {\n            prefsum[i] = stones[i - 1] + prefsum[i - 1]; \n        }\n        \n        \n        function<int(int, int)> getsum = [&] (int i, int j) -> int {\n            return prefsum[j + 1] - prefsum[i]; \n        };\n        \n        function<int(int, int, int)> merge = [&] (int L, int R, int piles) -> int {\n            \n            if (dp[L][R][piles] != -2) {\n                return dp[L][R][piles]; \n            }\n            \n            if (R - L + 1 < piles) {\n                return -1; \n            }\n            if ((R - L + 1 - piles) % (K - 1) != 0) {\n                return -1; \n            }\n            \n            if (piles == 1) {\n                if (L == R) return 0;\n                else {\n                    dp[L][R][piles] = getsum(L, R) + merge(L, R, K); \n                    return dp[L][R][piles]; \n                }\n            }\n            \n            int ans = -1; \n            for (int i = L; i < R; ++i) {\n                int lans = merge(L, i, 1); \n                int rans = merge(i + 1, R, piles - 1); \n                if (lans >= 0 && rans >= 0) {\n                    if (ans == -1 || ans > (lans + rans)) {\n                        ans = lans + rans;  \n                    }\n                }\n            }\n            dp[L][R][piles] = ans;\n            return ans; \n        };\n        \n        return merge(0, stones.size() - 1, 1); \n    }\n    \n    \n    \n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"minimum-cost-to-merge-stones"}