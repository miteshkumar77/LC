{"id":377096252,"lang":"cpp","time":"1 year, 8 months","timestamp":1596739958,"status_display":"Accepted","runtime":"64 ms","url":"/submissions/detail/377096252/","is_pending":"Not Pending","title":"Largest Sum of Averages","memory":"8.3 MB","code":"class Solution {\npublic:\n    double largestSumOfAverages(vector<int>& A, int K) {\n        vector<int> pre(A.size() + 1); \n        pre[0] = 0; \n        for (int i = 0; i < A.size(); ++i) {\n            pre[i + 1] = pre[i] + A[i]; \n        }\n        \n        function<double(int,int)> avg = [&](int L, int R) -> double {\n            return ((double)pre[R + 1] - pre[L])/(R - L + 1); \n        };\n        \n        \n        vector<vector<double>> dp(A.size(), vector<double>(K + 1)); \n        vector<vector<bool>> dp2(A.size(), vector<bool>(K + 1, false)); \n        \n        function<double(int,int)> ans = [&](int i, int k) -> double {\n            if (dp2[i][k]) {\n                return dp[i][k]; \n            } \n            \n            if (k == 1) {\n                dp2[i][k] = true; \n                dp[i][k] = avg(i, A.size() - 1); \n                return dp[i][k]; \n            }\n            \n            double ret = 0; \n            for (int x = i; x < A.size() - 1; ++x) {\n                ret = max(ret, avg(i, x) + ans(x + 1, k - 1)); \n            }\n            dp2[i][k] = true; \n            dp[i][k] = ret; \n            return ret; \n        }; \n        return ans(0, K); \n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111","title_slug":"largest-sum-of-averages"}