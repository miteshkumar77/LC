{"id":414730320,"lang":"cpp","time":"1 year, 5 months","timestamp":1604021548,"status_display":"Accepted","runtime":"4 ms","url":"/submissions/detail/414730320/","is_pending":"Not Pending","title":"Different Ways to Add Parentheses","memory":"7.2 MB","code":"class Solution {\npublic:\n    \n    \n    bool is_number(string s) {\n        int i = -1;\n        for (char c : s) {\n            ++i;\n            if (i == 0 && c == '-') continue;\n            if (c != ' ' && !isdigit(c)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    \n    \n    vector<int> diffWaysToCompute(string input) {\n        int n = input.length();\n        vector<vector<vector<int>>> dp(n, vector<vector<int>>(n, vector<int>()));\n        \n        vector<int> ans;\n        function<void(int,int)> calc = [&](int l, int r) -> void {\n            \n            \n            if (dp[l][r].size() != 0) {\n                return;\n            }\n            \n            \n            if (is_number(input.substr(l, r - l + 1))) {\n                dp[l][r].push_back(stoi(input.substr(l, r - l + 1))); \n\n                return;\n            } else {\n                for (int i = l; i <= r; ++i) {\n                    if (input[i] == '+' || input[i] == '-' || input[i] == '*') {\n                        calc(l, i - 1);\n                        calc(i + 1, r);\n                        for (auto a : dp[l][i - 1]) {\n                            for (auto b : dp[i + 1][r]) {\n                                if (input[i] == '+') {\n                                    dp[l][r].push_back(a + b);\n                                } else if (input[i] == '-') {\n                                    dp[l][r].push_back(a - b);\n                                } else {\n                                    dp[l][r].push_back(a * b);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        \n        calc(0, input.length() - 1);\n        \n        return dp[0][n - 1]; \n    }\n};","compare_result":"1111111111111111111111111","title_slug":"different-ways-to-add-parentheses"}