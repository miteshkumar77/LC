{"id":477326038,"lang":"cpp","time":"1Â year","timestamp":1617730029,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/477326038/","is_pending":"Not Pending","title":"The Dining Philosophers","memory":"N/A","code":"class DiningPhilosophers {\npublic:\n    mutex mtx;\n    vector<bool> available;\n    DiningPhilosophers() {\n        available = vector<bool>(5, true);\n    }\n\n    void wantsToEat(int philosopher,\n                    function<void()> pickLeftFork,\n                    function<void()> pickRightFork,\n                    function<void()> eat,\n                    function<void()> putLeftFork,\n                    function<void()> putRightFork) {\n        while(true) {\n            mtx.lock();\n            if (available[philosopher] && available[(philosopher + 1) % 5]) {\n                available[philosopher] = false;\n                available[(philosopher + 1) % 5] = false;\n                pickLeftFork();\n                pickRightFork();\n                mtx.unlock();\n                eat();\n                putLeftFork();\n                putRightFork();\n                mtx.lock();\n                available[philosopher] = true;\n                available[(philosopher + 1) % 5] = true;\n                mtx.unlock();\n                return;\n            }\n            mtx.unlock();\n        }\n    }\n};","compare_result":"111111111111111111111100","title_slug":"the-dining-philosophers"}