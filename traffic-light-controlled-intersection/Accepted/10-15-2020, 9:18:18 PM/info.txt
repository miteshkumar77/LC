{"id":409256213,"lang":"cpp","time":"1 year, 6 months","timestamp":1602811098,"status_display":"Accepted","runtime":"208 ms","url":"/submissions/detail/409256213/","is_pending":"Not Pending","title":"Traffic Light Controlled Intersection","memory":"9.1 MB","code":"class TrafficLight {\npublic:\n    TrafficLight() {\n        \n    }\n\n    void carArrived(\n        int carId,                   // ID of the car\n        int roadId,                  // ID of the road the car travels on. Can be 1 (road A) or 2 (road B)\n        int direction,               // Direction of the car\n        function<void()> turnGreen,  // Use turnGreen() to turn light to green on current road\n        function<void()> crossCar    // Use crossCar() to make car cross the intersection\n    ) {\n        // lk.lock();\n        unique_lock<mutex> ul(lk);\n        if (curr_rd != roadId) {\n            curr_rd = roadId;\n            turnGreen();\n        }\n        crossCar();\n        // lk.unlock();\n    }\nprivate:\n    \n    mutex lk;\n    int curr_rd = 1;\n    \n};","compare_result":"11111111111111","title_slug":"traffic-light-controlled-intersection"}