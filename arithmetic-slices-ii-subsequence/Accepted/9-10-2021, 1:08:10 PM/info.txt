{"id":552685637,"lang":"cpp","time":"7 months, 1 week","timestamp":1631293690,"status_display":"Accepted","runtime":"1586 ms","url":"/submissions/detail/552685637/","is_pending":"Not Pending","title":"Arithmetic Slices II - Subsequence","memory":"154.9 MB","code":"class Solution {\npublic:\n    using ll = long long;\n    int numberOfArithmeticSlices(vector<int>& nums) {\n        ll ans = 0;\n        int n = nums.size();\n        vector<unordered_map<ll,array<ll,2>>> dp(n);\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < i; ++j) {\n                ll diff = (ll)nums[i] - nums[j];\n                if (!dp[i].count(diff)) {\n                    dp[i][diff] = {0,0};\n                }\n                ++dp[i][diff][0];\n                if (dp[j].count(diff)) {\n                    dp[i][diff][1] += dp[j][diff][0] + dp[j][diff][1];\n                }\n            }\n            for (auto p : dp[i]) {\n                ans += p.second[1];\n            }\n        }\n        return ans;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"arithmetic-slices-ii-subsequence"}