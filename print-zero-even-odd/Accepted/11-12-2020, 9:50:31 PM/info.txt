{"id":419743103,"lang":"cpp","time":"1 year, 5 months","timestamp":1605235831,"status_display":"Accepted","runtime":"44 ms","url":"/submissions/detail/419743103/","is_pending":"Not Pending","title":"Print Zero Even Odd","memory":"7.5 MB","code":"class ZeroEvenOdd {\nprivate:\n    int n;\n    mutex m;\n    condition_variable cv;\n    int i; \n    int var = 0; \n    \npublic:\n    ZeroEvenOdd(int n) {\n        this->n = n;\n        i = 1;\n    }\n\n    // printNumber(x) outputs \"x\", where x is an integer.\n    void zero(function<void(int)> printNumber) {\n        while(true) {\n            unique_lock<mutex> lk(m); \n            // cout << \"zero\" << ' ' << var << endl;\n            cv.wait(lk, [&] { return var == 0 || var == 2 || i > n; }); \n            if (i > n) {\n                cv.notify_all(); \n                return;\n            }\n            var = (var + 1) % 4;\n            printNumber(0);\n            cv.notify_all(); \n        }\n        \n    }\n\n    void even(function<void(int)> printNumber) {\n        while(true) {\n            unique_lock<mutex> lk(m); \n            // cout << \"even\" << ' ' << var << endl;\n            cv.wait(lk, [&] { return var == 3 || i > n; }); \n            if (i > n) {\n                cv.notify_all(); \n                return;\n            }\n            var = (var + 1) % 4;\n            printNumber(i++); \n            cv.notify_all(); \n        }\n    }\n\n    void odd(function<void(int)> printNumber) {\n        while(true) {\n            unique_lock<mutex> lk(m);\n            // cout << \"odd\" << ' ' << var << endl;\n            cv.wait(lk, [&] { return var == 1 || i > n; }); \n            if (i > n) {\n                cv.notify_all(); \n                return;\n            }\n            var = (var + 1) % 4;\n            printNumber(i++); \n            cv.notify_all(); \n        }\n    }\n};","compare_result":"11111111111111","title_slug":"print-zero-even-odd"}